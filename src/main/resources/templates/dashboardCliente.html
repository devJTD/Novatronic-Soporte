<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Novatronic - Portal Cliente</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="/css/nova-styles.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-glass fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand d-flex align-items-center" href="/cliente/dashboard">
                <img src="/img/logo.png" alt="Novatronic">
                <span class="badge bg-info ms-2">CLIENTE</span>
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="/cliente/dashboard">
                            <i class="bi bi-speedometer2"></i> Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/cliente/registro-ticket">
                            <i class="bi bi-plus-circle"></i> Nuevo Ticket
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/cliente/lista-tickets">
                            <i class="bi bi-list-task"></i> Mis Tickets
                        </a>
                    </li>
                </ul>
                
                <div class="d-flex align-items-center">
                    <span class="text-white me-3">
                        <i class="bi bi-building"></i> Banco Central
                    </span>
                    <a class="btn btn-sm btn-nova btn-nova-danger" href="/login">
                        <i class="bi bi-box-arrow-right"></i> Salir
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <div class="main-content">
        <div class="mb-8">
            <h1 class="text-4xl font-bold text-white mb-2">
                <i class="bi bi-house-heart-fill"></i> Bienvenido, Banco Central
            </h1>
            <p class="text-glass-muted text-lg">Portal de gestión de tickets de soporte</p>
        </div>

        <!-- Alerta de ticket pendiente -->
        <div class="alert-glass alert-glass-warning mb-6">
            <div class="flex items-center gap-4">
                <i class="bi bi-chat-dots-fill text-4xl"></i>
                <div class="flex-grow-1">
                    <h4 class="font-bold text-xl mb-1">Ticket pendiente de su respuesta</h4>
                    <p class="mb-0">El ticket <strong>NOV-3401</strong> requiere información adicional de su parte.</p>
                </div>
                <a href="/cliente/detalle-ticket/NOV-3401" class="btn btn-nova" style="background: var(--gradient-warning); color: white;">
                    <i class="bi bi-reply-fill"></i> Responder Ahora
                </a>
            </div>
        </div>

        <!-- KPIs Cliente -->
        <div class="row g-4 mb-6">
            <div class="col-lg-3 col-md-6">
                <div class="kpi-card-3d">
                    <div class="flex justify-between items-start">
                        <div>
                            <div class="kpi-label mb-2">Tickets Activos</div>
                            <div class="kpi-number">5</div>
                            <div class="text-sm">
                                <span class="badge-modern badge-media">
                                    <i class="bi bi-activity"></i> En seguimiento
                                </span>
                            </div>
                        </div>
                        <i class="bi bi-ticket-detailed-fill kpi-icon-large"></i>
                    </div>
                </div>
            </div>

            <div class="col-lg-3 col-md-6">
                <div class="kpi-card-3d">
                    <div class="flex justify-between items-start">
                        <div>
                            <div class="kpi-label mb-2">Pendiente Respuesta</div>
                            <div class="kpi-number">1</div>
                            <div class="text-sm">
                                <span class="badge-modern badge-critica">
                                    <i class="bi bi-exclamation-circle"></i> Requiere acción
                                </span>
                            </div>
                        </div>
                        <i class="bi bi-chat-left-text-fill kpi-icon-large"></i>
                    </div>
                </div>
            </div>

            <div class="col-lg-3 col-md-6">
                <div class="kpi-card-3d">
                    <div class="flex justify-between items-start">
                        <div>
                            <div class="kpi-label mb-2">Resueltos Mes</div>
                            <div class="kpi-number">18</div>
                            <div class="text-sm">
                                <span class="badge-modern" style="background: var(--gradient-success);">
                                    <i class="bi bi-check-circle"></i> Completados
                                </span>
                            </div>
                        </div>
                        <i class="bi bi-check-circle-fill kpi-icon-large"></i>
                    </div>
                </div>
            </div>

            <div class="col-lg-3 col-md-6">
                <div class="kpi-card-3d">
                    <div class="flex justify-between items-start">
                        <div>
                            <div class="kpi-label mb-2">SLA Cumplimiento</div>
                            <div class="kpi-number">96.3%</div>
                            <div class="text-sm">
                                <span class="badge-modern" style="background: var(--gradient-success);">
                                    <i class="bi bi-award"></i> Excelente
                                </span>
                            </div>
                        </div>
                        <i class="bi bi-trophy-fill kpi-icon-large"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tickets Recientes -->
        <div class="row g-4 mb-6">
            <div class="col-lg-8">
                <div class="card-glass">
                    <div class="card-glass-header">
                        <div class="flex justify-between items-center">
                            <h3 class="text-xl font-bold mb-0">
                                <i class="bi bi-clock-history"></i> Tickets Activos Recientes
                            </h3>
                            <a href="/cliente/lista-tickets" class="btn btn-sm btn-nova btn-nova-primary">
                                Ver Todos <i class="bi bi-arrow-right"></i>
                            </a>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-futuristic">
                            <thead>
                                <tr>
                                    <th>Ticket</th>
                                    <th>Asunto</th>
                                    <th>Estado</th>
                                    <th>Prioridad</th>
                                    <th>Última Act.</th>
                                    <th>Acción</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="bg-danger bg-opacity-10">
                                    <td><strong class="text-black">NOV-3401</strong></td>
                                    <td>Fallo en módulo de reportes</td>
                                    <td><span class="badge-modern badge-critica">PENDIENTE CLIENTE</span></td>
                                    <td><span class="badge-modern badge-alta">ALTA</span></td>
                                    <td>Hace 2 horas</td>
                                    <td>
                                        <a href="/cliente/detalle-ticket/NOV-3401" class="btn btn-sm btn-nova btn-nova-danger">
                                            <i class="bi bi-reply"></i> Responder
                                        </a>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong class="text-black">NOV-3398</strong></td>
                                    <td>Consulta sobre API v3</td>
                                    <td><span class="badge-modern badge-media">EN PROCESO</span></td>
                                    <td><span class="badge-modern badge-media">MEDIA</span></td>
                                    <td>Ayer 16:30</td>
                                    <td>
                                        <a href="/cliente/detalle-ticket/NOV-3398" class="btn btn-sm btn-nova" style="background: var(--gradient-info); color: white;">
                                            <i class="bi bi-eye"></i> Ver
                                        </a>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong class="text-black">NOV-3395</strong></td>
                                    <td>Actualización de módulo C</td>
                                    <td><span class="badge-modern" style="background: var(--gradient-success);">RESUELTO</span></td>
                                    <td><span class="badge-modern badge-baja">BAJA</span></td>
                                    <td>Hace 3 días</td>
                                    <td>
                                        <a href="/cliente/detalle-ticket/NOV-3395" class="btn btn-sm btn-nova" style="background: rgb(62, 104, 163); color: rgb(255, 255, 255);">
                                            <i class="bi bi-eye"></i> Revisar
                                        </a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="col-lg-4">
                <div class="card-glass h-100">
                    <div class="card-glass-header bg-gradient-primary">
                        <h3 class="text-xl font-bold mb-0">
                            <i class="bi bi-lightning-charge"></i> Acceso Rápido
                        </h3>
                    </div>
                    <div class="card-glass-body">
                        <div class="d-grid gap-3 mb-6">
                            <a href="/cliente/registro-ticket" class="btn btn-nova btn-nova-primary btn-lg">
                                <i class="bi bi-plus-circle-fill"></i> Crear Ticket Nuevo
                            </a>
                            <a href="/cliente/lista-tickets" class="btn btn-nova btn-nova-success">
                                <i class="bi bi-list-ul"></i> Ver Todos Mis Tickets
                            </a>
                        </div>

                        <hr class="border-white border-opacity-20 my-4">

                        <h4 class="text-white text-sm font-bold mb-3">
                            <i class="bi bi-headset"></i> Contacto Soporte
                        </h4>
                        <div class="space-y-3 text-glass">
                            <div class="p-3 rounded-lg" style="background: rgba(255,255,255,0.05);">
                                <div class="text-xs text-glass-muted">Teléfono</div>
                                <div class="font-semibold">(51) 987-654-321</div>
                            </div>
                            <div class="p-3 rounded-lg" style="background: rgba(255,255,255,0.05);">
                                <div class="text-xs text-glass-muted">Email</div>
                                <div class="font-semibold">soporte@novatronic.com</div>
                            </div>
                            <div class="p-3 rounded-lg" style="background: rgba(255,255,255,0.05);">
                                <div class="text-xs text-glass-muted">Horario</div>
                                <div class="font-semibold">Lun-Vie 8:00-18:00</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Gráfica de SLA -->
        <div class="card-glass">
            <div class="card-glass-header">
                <h3 class="text-xl font-bold mb-0">
                    <i class="bi bi-graph-up-arrow"></i> Cumplimiento de SLA - Últimos 6 Meses
                </h3>
            </div>
            <div class="card-glass-body">
                <canvas id="slaChart" height="100"></canvas>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <script>
        // Gráfica de cumplimiento SLA
        const ctx = document.getElementById('slaChart').getContext('2d');
        new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre'],
                datasets: [{
                    label: 'Cumplimiento SLA (%)',
                    data: [94.2, 96.8, 95.5, 97.1, 96.3, 98.2],
                    borderColor: 'rgba(255, 255, 255, 0.8)',
                    backgroundColor: 'rgba(255, 255, 255, 0.1)',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        labels: { color: 'white', font: { size: 14 } }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: false,
                        min: 90,
                        max: 100,
                        ticks: { color: 'rgba(255, 255, 255, 0.7)' },
                        grid: { color: 'rgba(255, 255, 255, 0.1)' }
                    },
                    x: {
                        ticks: { color: 'rgba(255, 255, 255, 0.7)' },
                        grid: { color: 'rgba(255, 255, 255, 0.1)' }
                    }
                }
            }
        });
    </script>
</body>
</html>