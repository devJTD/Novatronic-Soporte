<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Novatronic - Gestión de Tickets</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
          rel="stylesheet" 
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" 
          crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    
    <link rel="stylesheet" href="/css/admin-style.css"> 
    <link rel="stylesheet" href="/css/tickets-revisados-style.css"> 
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container-fluid">
            
            <a class="navbar-brand d-flex align-items-center" href="/admin/dashboard">
                <img src="/img/logo.png" alt="Logo Novatronic Soporte"> 
                <span class="badge bg-danger ms-2">ADMINISTRADOR</span>
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAdmin" 
                    aria-controls="navbarNavAdmin" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNavAdmin">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    
                    <li class="nav-item">
                        <a class="nav-link" href="/admin/dashboard">
                            <i class="bi bi-speedometer2"></i> Dashboard
                        </a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" href="/admin/tickets-nuevos">
                            <i class="bi bi-box-arrow-in-down-right"></i> Tickets Recibidos <span class="badge bg-danger ms-1">4</span>
                        </a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/admin/tickets-revisados">
                            <i class="bi bi-card-checklist"></i> Gestión de Tickets
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="/admin/reportes">
                            <i class="bi bi-graph-up"></i> Reportes
                        </a>
                    </li>
                </ul>
            </div>
            
            <div class="d-none d-lg-block ms-auto"> 
                 <a class="btn btn-outline-light btn-logout" href="/login">
                    <i class="bi bi-box-arrow-right"></i> Cerrar Sesión
                </a>
            </div>
            
        </div>
    </nav>

    <div class="main-content container-fluid-custom">
        <h1 class="mb-5"><i class="bi bi-card-list"></i> Listado General de Tickets en Gestión</h1>
        
        <div class="card p-3 mb-4 shadow-sm">
            <div class="row align-items-end">
                <div class="col-md-4 mb-3 mb-md-0">
                    <label for="filtroBusqueda" class="form-label fw-bold small mb-1">Buscar (#Ticket, Cliente, Asunto)</label>
                    <input type="text" id="filtroBusqueda" class="form-control" placeholder="Escribe para filtrar...">
                </div>
                
                <div class="col-md-2 mb-3 mb-md-0">
                    <label for="filtroEstado" class="form-label fw-bold small mb-1">Estado</label>
                    <select id="filtroEstado" class="form-select">
                        <option selected>Todos</option>
                        <option>En Proceso</option>
                        <option>En Espera (Cliente)</option>
                        <option>Cerrado</option>
                        <option>Pendiente de Aprobación</option>
                    </select>
                </div>
                
                <div class="col-md-2 mb-3 mb-md-0">
                    <label for="filtroAsignado" class="form-label fw-bold small mb-1">Asignado a</label>
                    <select id="filtroAsignado" class="form-select">
                        <option selected>Cualquier Agente</option>
                        <option>Juan Pérez</option>
                        <option>Laura Gómez</option>
                        <option>Grupo Infraestructura</option>
                    </select>
                </div>

                <div class="col-md-2 mb-3 mb-md-0">
                    <label for="filtroSLA" class="form-label fw-bold small mb-1">Prioridad / SLA</label>
                    <select id="filtroSLA" class="form-select">
                        <option selected>Todas</option>
                        <option>Crítica (Riesgo)</option>
                        <option>Alta</option>
                        <option>Media</option>
                        <option>Baja</option>
                    </select>
                </div>
                
                <div class="col-md-2 d-grid">
                    <button class="btn btn-secondary mt-md-3">
                        <i class="bi bi-arrow-clockwise"></i> Refrescar
                    </button>
                </div>
            </div>
        </div>

        <div class="card shadow">
            <div class="card-header bg-success text-white">
                <h5 class="mb-0"><i class="bi bi-hourglass-split"></i> 21 Tickets Activos | 2 con SLA en Riesgo</h5>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table table-striped table-hover ticket-list-table mb-0">
                        <thead class="table-light">
                            <tr>
                                <th scope="col"># Ticket</th>
                                <th scope="col">Asunto</th>
                                <th scope="col">Cliente</th>
                                <th scope="col">Prioridad (IRP)</th>
                                <th scope="col">Estado</th>
                                <th scope="col">Asignado a</th>
                                <th scope="col">Tiempo Límite (SLA)</th>
                                <th scope="col">Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>NOV-1020</td>
                                <td>Fallo crítico en el módulo de pagos</td>
                                <td>Banco Central</td>
                                <td><span class="badge bg-danger">CRÍTICA</span></td>
                                <td><span class="badge bg-primary">En Proceso</span></td>
                                <td>Juan Pérez</td>
                                <td><span class="text-danger fw-bold"><i class="bi bi-clock"></i> 45 min restantes</span></td>
                                <td>
                                    <a href="/admin/detalles-ticket/NOV-1020" class="btn btn-sm btn-outline-primary" title="Ver Detalle">
                                        <i class="bi bi-arrow-right-circle"></i>
                                    </a>
                                </td>
                            </tr>
                            <tr>
                                <td>NOV-1015</td>
                                <td>Consulta sobre exportación de data (Módulo B)</td>
                                <td>Financiera Alfa</td>
                                <td><span class="badge bg-warning text-dark">MEDIA</span></td>
                                <td><span class="badge bg-secondary">En Espera (Cliente)</span></td>
                                <td>Laura Gómez</td>
                                <td>-</td>
                                <td>
                                    <a href="/admin/detalles-ticket/NOV-1015" class="btn btn-sm btn-outline-primary">
                                        <i class="bi bi-arrow-right-circle"></i>
                                    </a>
                                </td>
                            </tr>
                            <tr>
                                <td>NOV-1008</td>
                                <td>Requerimiento de nueva funcionalidad de Reportes</td>
                                <td>Grupo Innova</td>
                                <td><span class="badge bg-info">BAJA</span></td>
                                <td><span class="badge bg-primary">En Proceso</span></td>
                                <td>Pedro Ríos</td>
                                <td><span class="text-warning fw-bold"><i class="bi bi-clock"></i> 3h 10m restantes</span></td>
                                <td>
                                    <a href="/admin/detalles-ticket/NOV-1008" class="btn btn-sm btn-outline-primary">
                                        <i class="bi bi-arrow-right-circle"></i>
                                    </a>
                                </td>
                            </tr>
                            <tr>
                                <td>NOV-0995</td>
                                <td>[Cerrado] Problema de login resuelto.</td>
                                <td>Empresa Beta</td>
                                <td><span class="badge bg-success">ALTA</span></td>
                                <td><span class="badge bg-success">Cerrado</span></td>
                                <td>Grupo Infraestructura</td>
                                <td>Cumplido</td>
                                <td>
                                    <a href="/admin/detalles-ticket/NOV-0995" class="btn btn-sm btn-outline-primary">
                                        <i class="bi bi-arrow-right-circle"></i>
                                    </a>
                                </td>
                            </tr>
                            <tr class="table-group-divider">
                                <td colspan="8" class="text-center text-muted small py-3">Mostrando 21 resultados activos | Total de 450 tickets en el histórico.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="card-footer d-flex justify-content-between">
                <div class="small text-muted">Tickets activos y su estado según el ciclo de vida IRP/OPD.</div>
                <nav>
                    <ul class="pagination pagination-sm mb-0">
                        <li class="page-item disabled"><a class="page-link" href="#">Anterior</a></li>
                        <li class="page-item active"><a class="page-link" href="#">1</a></li>
                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                        <li class="page-item"><a class="page-link" href="#">Siguiente</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" 
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" 
            crossorigin="anonymous">
    </script>
</body>
</html>